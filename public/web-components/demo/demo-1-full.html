<!doctype html>
<html lang="en">

<head>
  <title>Targeted Topics - Web Components</title>
  <meta charset="utf8" />
  <link href="/vendor/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css" />
</head>

<body class="ui container">
  <h1>Demo / Playground</h1>

  <h2>Rainbow buttons...</h2>

  <rainbow-button>Click me!</rainbow-button>

  <template id="rainbow-button-template">
    <h1>My Rainbow Button</h1>
  </template>

  <script type="text/javascript">

    class RainbowButton extends HTMLElement {
      constructor() {
        super();
        const originalTextContent = this.textContent;

        // Switching it up for a Shadow DOM
        this.attachShadow({ mode: 'open' });

        const el = document.createElement('p');
        el.textContent = `ðŸŒˆ ${originalTextContent}ðŸŒˆ `;
        this.shadowRoot.appendChild(el);
        /**/

        // Step 3:
        // Fiddling with events
        /*el.addEventListener('click', (e) => {
          // notice the event is from <rainbow-button>, not the <p> inside it...
          console.group('Internal click handler on internal <p>');
          console.log('target:', e.target);
          console.log('currentTarget:', e.currentTarget);
          console.log('composed path:', e.composedPath());
          console.groupEnd();
        });/***/
      }

      // static get observedAttributes() {
      //   return ['button-type', 'class'];
      // }

      // attributeChangedCallback(attrName, oldValue, newValue) {
      //   console.log(attrName, oldValue, newValue);
      // }
    }

    customElements.define('rainbow-button', RainbowButton);
  </script>

</body>

</html>
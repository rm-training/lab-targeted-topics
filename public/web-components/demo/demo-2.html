<!doctype html>
<html class="no-js" lang="">

<head>
  <title>Targeted Topics - Web Components</title>
  <meta charset="utf8" />
  <link href="/vendor/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css" />
</head>

<body class="ui container">
    <h1>Demo / Playground</h1>
    
    <h2>Cabinet Buttons...</h2>
    
    <template id="cabinet-button-template">
        <!-- external style sheets don't pass through :( -->
        <!-- <link href="/vendor/semantic-ui/semantic.css" rel="stylesheet" type="text/css" /> -->
        <div class="ui segment">
          <h2 class="ui header">Cabinet:</h2>
          <button>
            🗄️<slot id="the-slot" name="button-label">TBD</slot>🗄️
          </button>
        </div>
    </template>

    <cabinet-button>
      <span id="the-span" slot="button-label">Click me!</span>
    </cabinet-button>

    <script type="text/javascript">

      /* Using templates 
      class CabinetButton extends HTMLElement {
          constructor() {
              super();
              const originalTextContent = this.textContent;

              this.attachShadow({mode: 'open'});

              const tmpl = document.getElementById('cabinet-button-template');
              const parentNode = tmpl.content.cloneNode(true);

              this.shadowRoot.appendChild(parentNode);

              this.shadowRoot.querySelectorAll('slot').forEach(el => {
                el.addEventListener('click', (e) => {
                  console.log('Slot', e.target);
                })
              });
          }
      }

      document.querySelectorAll('span').forEach(el => {
        el.addEventListener('click', e => {
          console.log('span', e.target, e.target.parentNode);
        })
      })

      customElements.define('cabinet-button', CabinetButton);
      /**/

    </script>


</body>
</html>